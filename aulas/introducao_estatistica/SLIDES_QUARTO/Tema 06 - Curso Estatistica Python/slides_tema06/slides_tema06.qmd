---
title: "Curso de Estatística com Python"
subtitle: "Partes 1 e 2  -  PNAD 2015"
author: "Luiz Diego Vidal Santos"
institute: "Universidade Estadual de Feira de Santana (UEFS)"
footer: "UEFS  -  Introdução à Estatística | Tema 6  -  Curso de Estatística com Python"
format: 
  revealjs:
    logo: ../../../../assets/logo-uefs.webp
    footer: "UEFS  -  Introdução à Estatística | Tema 6  -  Curso de Estatística com Python"
    slide-number: true
    theme: [simple, ../../../../assets/uefs.scss]
    controls: true
    width: 1280
    height: 720
    css: ../../../../assets/custom.css
    transition: slide
    background-transition: fade
    preview-links: auto
    code-fold: false
    code-tools: true
execute:
  echo: true
  eval: false
---

# [Curso de Estatística  -  Parte 1 e 2]{.section-header}

# [1  -  Conhecendo os Dados]{.section-header}

## 1.1  -  Dataset do Projeto {.smaller-text}

### Pesquisa Nacional por Amostra de Domicílios  -  2015

::: {.columns}
::: {.column width="55%"}
A **PNAD** investiga anualmente características gerais da população: educação, trabalho, rendimento e habitação.

Constitui, ao longo de **49 anos**, um importante instrumento para formulação, validação e avaliação de políticas de desenvolvimento socioeconômico.

**Fonte:** [IBGE  -  PNAD 2015](https://ww2.ibge.gov.br/home/estatistica/populacao/trabalhoerendimento/pnad2015/microdados.shtm)
:::

::: {.column width="45%"}
::: {.info-box}
**Tratamentos realizados:**

1. Eliminados registros com Renda inválida (999 999 999 999)
2. Eliminados registros com Renda *missing*
3. Considerados somente registros das **Pessoas de Referência** de cada domicílio
:::
:::
:::

---

## Importando pandas e lendo o dataset {.smaller-text}

[pandas  -  Python Data Analysis Library](https://pandas.pydata.org/)

```python
import pandas as pd

dados = pd.read_csv('dados.csv')
dados.head()
```

```python
dados.shape
```

```python
dados.info()
```

# [1.2  -  Tipos de Dados]{.section-header}

## Variáveis Qualitativas {.smaller-text}

::: {.columns}
::: {.column width="50%"}
### Qualitativas Ordinais

► Variáveis que podem ser **ordenadas ou hierarquizadas**

```python
dados['Anos de Estudo'].value_counts().sort_index()
```
:::

::: {.column width="50%"}
### Qualitativas Nominais

► Variáveis que **não podem** ser ordenadas ou hierarquizadas

```python
dados['Cor'].value_counts()
```

```python
dados['Sexo'].value_counts()
```
:::
:::

---

## Variáveis Quantitativas {.smaller-text}

::: {.columns}
::: {.column width="50%"}
### Quantitativas Discretas

► Valores formam um conjunto **finito ou enumerável**

```python
dados['Idade'].value_counts().sort_index().head(20)
```

::: {.info-box}
A variável **idade** pode ser classificada como:

1. **Quantitativa discreta**  -  anos completos
2. **Quantitativa contínua**  -  idade exata
3. **Qualitativa ordinal**  -  faixas de idade
:::
:::

::: {.column width="50%"}
### Quantitativas Contínuas

► Valores em **escala contínua** (números reais)

```python
dados['Altura'].describe()
```

```python
dados['Renda'].describe()
```
:::
:::

# [2  -  Distribuição de Frequências]{.section-header}

## 2.1  -  Variáveis Qualitativas {.smaller-text}

### Método 1  -  [value_counts()](https://pandas.pydata.org/docs/reference/api/pandas.Series.value_counts.html)

```python
frequencia = dados['Sexo'].value_counts()
frequencia
```

```python
percentual = dados['Sexo'].value_counts(normalize=True) * 100
percentual
```

### Método 2  -  [crosstab()](https://pandas.pydata.org/docs/reference/api/pandas.crosstab.html)

```python
pd.crosstab(dados['Sexo'], columns='Frequência')
```

---

## 2.2  -  Variáveis Quantitativas (classes personalizadas) {.smaller-text}

::: {.columns}
::: {.column width="50%"}
### Classificação por Salário Mínimo

| Classe | Faixa (SM) | Renda (R$)  |
|--------|-----------|-------------|
| **A** | > 20 SM | > 15.760 |
| **B** | 10 a 20 SM | 7.880 – 15.760 |
| **C** | 4 a 10 SM | 3.152 – 7.880 |
| **D** | 2 a 4 SM | 1.576 – 3.152 |
| **E** | Até 2 SM | ≤ 1.576 |

*SM em 2015 = R$ 788,00*
:::

::: {.column width="50%"}
```python
classes = [0, 1576, 3152, 7880, 15760, 200000]
labels = ['E', 'D', 'C', 'B', 'A']

dados['Classe'] = pd.cut(
    dados['Renda'], 
    bins=classes, 
    labels=labels, 
    include_lowest=True
)
dados['Classe'].value_counts().sort_index()
```
:::
:::

---

## 2.3  -  Variáveis Quantitativas (amplitude fixa) {.smaller-text}

### Regra de Sturges

$$k = 1 + \frac{10}{3}\log_{10}n$$

```python
import numpy as np

n = dados.shape[0]
k = int(1 + (10/3) * np.log10(n))
k
```

```python
# Tabela de frequências com amplitude fixa
frequencias = dados['Renda'].value_counts(bins=k).sort_index()
frequencias
```

---

## 2.4  -  Histograma {.smaller-text}

[seaborn  -  Statistical Data Visualization](https://seaborn.pydata.org/)

```python
import seaborn as sns
import matplotlib.pyplot as plt

ax = sns.histplot(dados['Altura'], kde=True)
ax.set(title='Distribuição da Altura', xlabel='Altura', ylabel='Frequência')
plt.show()
```

```python
ax = sns.histplot(dados['Renda'], kde=True)
ax.set(title='Distribuição da Renda', xlabel='Renda (R$)', ylabel='Frequência')
plt.show()
```

# [3  -  Medidas de Tendência Central]{.section-header}

## DataFrame de Exemplo {.smaller-text}

```python
df_exemplo = pd.DataFrame({
    'valores': [10, 29, 26, 28, 15, 23, 25, 17, 0, 20]
})
df_exemplo
```

---

## 3.1  -  Média Aritmética {.smaller-text}

Representada por $\mu$ (população) e $\bar{X}$ (amostra):

$$\mu = \frac{1}{n}\sum_{i=1}^{n}X_i$$

```python
dados['Renda'].mean()
```

```python
dados['Altura'].mean()
```

```python
dados['Idade'].mean()
```

---

## 3.2  -  Mediana {.smaller-text}

::: {.columns}
::: {.column width="50%"}
### Procedimento:

1. Ordenar o conjunto de dados
2. Identificar $n$
3. Quando $n$ ímpar: $Elemento_{Md} = \frac{n+1}{2}$
4. Quando $n$ par: $Elemento_{Md} = \frac{n}{2}$
5. Quando $n$ ímpar: $Md = X_{Elemento_{Md}}$
6. Quando $n$ par: $Md = \frac{X_{Elemento_{Md}} + X_{Elemento_{Md}+1}}{2}$
:::

::: {.column width="50%"}
### Obtendo no dataset:

```python
dados['Renda'].median()
```

```python
dados['Altura'].median()
```
:::
:::

---

## 3.3  -  Moda {.smaller-text}

Valor **mais frequente** de um conjunto de dados. Bastante utilizada para dados qualitativos.

```python
dados['Renda'].mode()
```

```python
dados['Idade'].mode()
```

---

## 3.4  -  Relação entre Média, Mediana e Moda {.smaller-text}

::: {.columns}
::: {.column width="50%"}
### Avaliando a Variável RENDA

```python
print(f"Média:   {dados['Renda'].mean():.2f}")
print(f"Mediana: {dados['Renda'].median():.2f}")
print(f"Moda:    {dados['Renda'].mode()[0]:.2f}")

ax = sns.histplot(dados['Renda'], kde=True)
plt.show()
```
:::

::: {.column width="50%"}
### Avaliando a Variável ALTURA

```python
print(f"Média:   {dados['Altura'].mean():.2f}")
print(f"Mediana: {dados['Altura'].median():.2f}")
print(f"Moda:    {dados['Altura'].mode()[0]:.2f}")

ax = sns.histplot(dados['Altura'], kde=True)
plt.show()
```
:::
:::

# [4  -  Medidas Separatrizes]{.section-header}

## 4.1  -  Quartis, Decis e Percentis {.smaller-text}

::: {.columns}
::: {.column width="55%"}
- **Mediana**: divide em 2 partes iguais
- **Quartis**: divide em 4 partes iguais
- **Decis**: divide em 10 partes iguais
- **Centis/Percentis**: divide em 100 partes iguais
:::

::: {.column width="45%"}
```python
dados['Renda'].quantile([0.25, 0.5, 0.75])
```

```python
dados['Renda'].quantile([0.1, 0.2, 0.3, 0.4, 
                          0.5, 0.6, 0.7, 0.8, 0.9])
```
:::
:::

---

## 4.2  -  Box-plot {.smaller-text}

O box plot dá uma ideia de: **posição**, **dispersão**, **assimetria**, **caudas** e **outliers**.

```python
ax = sns.boxplot(x=dados['Altura'], orient='h')
ax.set(title='Box-plot: Altura', xlabel='Altura')
plt.show()
```

```python
ax = sns.boxplot(x=dados['Renda'], orient='h')
ax.set(title='Box-plot: Renda', xlabel='Renda (R$)')
plt.show()
```

# [5  -  Medidas de Dispersão]{.section-header}

## 5.1  -  Desvio Médio Absoluto {.smaller-text}

$$DM = \frac{1}{n}\sum_{i=1}^{n}|X_i - \bar{X}|$$

```python
dados['Renda'].mad()
```

---

## 5.2  -  Variância {.smaller-text}

::: {.columns}
::: {.column width="50%"}
### Variância Populacional

$$\sigma^2 = \frac{1}{n}\sum_{i=1}^{n}(X_i - \mu)^2$$

```python
dados['Renda'].var()  # amostral (ddof=1)
```
:::

::: {.column width="50%"}
### Variância Amostral

$$S^2 = \frac{1}{n-1}\sum_{i=1}^{n}(X_i - \bar{X})^2$$

```python
dados['Altura'].var()
```
:::
:::

---

## 5.3  -  Desvio Padrão {.smaller-text}

::: {.columns}
::: {.column width="50%"}
### Desvio Padrão Populacional

$$\sigma = \sqrt{\frac{1}{n}\sum_{i=1}^{n}(X_i - \mu)^2} = \sqrt{\sigma^2}$$
:::

::: {.column width="50%"}
### Desvio Padrão Amostral

$$S = \sqrt{\frac{1}{n-1}\sum_{i=1}^{n}(X_i - \bar{X})^2} = \sqrt{S^2}$$
:::
:::

```python
dados['Renda'].std()
```

```python
dados['Altura'].std()
```

---

## {.centered-content}

::: {style="text-align: center; font-size: 2.5em; color: var(--ufs-azul); margin-top: 150px;"}
**Obrigado!**
:::

::: {style="text-align: center; font-size: 1.2em; margin-top: 50px; color: var(--ufs-cinza-escuro);"}
**Luiz Diego Vidal Santos**

Universidade Federal de Sergipe

[diego@academico.ufs.br](mailto:diego@academico.ufs.br)
:::
